<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.2.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Installation of pip packages on offline computer</title>
  <link rel="stylesheet" type="text/css" href="../../style.css">
  <link rel="alternate" type="application/atom+xml" href="http://blog.rfox.eu/atom.xml">
  <link rel="shortcut icon" href="/favicon.ico">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@Bystroushaak">
  <meta name="twitter:title" content="Installation of pip packages on offline computer">
  <meta name="twitter:description" content="Step by step guide that will take you through the process of creating your own offline pip repository without much work. Pip on the offline computer can then automatically download all requirements from it.">
  <script src="../../scripts.js">
  </script>
  <meta name="description" content="Step by step guide that will take you through the process of creating your own offline pip repository without much work. Pip on the offline computer can then automatically download all requirements from it.">
  <meta name="keywords" content="python,pip,pip2pi,package_management"><!-- Global site tag (gtag.js) - Google Analytics -->

  <script src="https://www.googletagmanager.com/gtag/js?id=UA-142545439-1">
  </script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-142545439-1');
  </script>
  <script data-ad-client="ca-pub-8322439660353685" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async>
  </script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
</head>
<body onload="on_body_load();">
  <div id="sidebar_top">
    <div id="last_five_top">
      <h3>New posts:</h3>
      <ul>
        <li>
          <a href="../Weekly_updates/Lifelog_2020-06-15_Todo_in_motion.html" title="Lifelog 2020-06-15; Todo in motion">Lifelog 2020-06-15; Todo in motion</a>
        </li>
        <li>
          <a href="../My_Greenspuns_counter.html" title="My Greenspun's counter">My Greenspun's counter</a>
        </li>
        <li>
          <a href="../About_this_blog/What_do_I_mean_by_node.html" title="What do I mean by node?">What do I mean by node?</a>
        </li>
        <li>
          <a href="../Explorations/Trying_Ansible_alternatives_in_python.html" title="Trying Ansible alternatives in python">Trying Ansible alternatives in python</a>
        </li>
        <li>
          <a href="../Improvements/The_Most_Personal_Device_experiment/Pebble_smartwatches.html" title="Pebble smartwatches">Pebble smartwatches</a>
        </li>
        <li>
          <a href="../Improvements/The_Most_Personal_Device_experiment.html" title="The Most Personal Device experiment"><span class="icon">ðŸ“‚</span>The Most Personal Device experiment</a>
        </li>
        <li>
          <a href="../About_this_blog/Unicode_font_subset.html" title="Unicode font subset">Unicode font subset</a>
        </li>
        <li>
          <a href="../Weekly_updates/Lifelog_2020-05-25_Work_in_progress_everywhere.html" title="Lifelog 2020-05-25; Work in progress everywhere">Lifelog 2020-05-25; Work in progress everywhere</a>
        </li>
        <li>
          <a href="http://blog.rfox.eu/en/Improvements/Vitamins_nootropics_and_other_boosters.html">Vitamins, nootropics and other boosters</a>
        </li>
        <li>
          <a href="http://blog.rfox.eu/en/objWiki/Transaction_support_for_simple_in_memory_database.html">Transaction support for simple in-memory database</a>
        </li>
      </ul>& <a href="../../Changelog.html" title="Changelog">more</a>
    </div><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8322439660353685" data-ad-slot="8589969791" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <div id="links_from_other_pages">
      <h3>Links to this page:</h3>
      <ul>
        <li>
          <a href="../Weekly_updates/Biweekly_update_2020-03-23_Sick_again.html" title="Biweekly update 2020-03-23; Sick again..">Biweekly update 2020-03-23; Sick again..</a>
        </li>
      </ul>
    </div>
  </div><a class="breadcrumb" href="../../index.html" title="Bystroushaak's blog">Bystroushaak's blog</a> / <a class="breadcrumb" href="../index.html" title="English section">English section</a> / <a class="breadcrumb" href="index.html" title="Python">Python</a> / Installation of pip packages on offline computer
  <article id="dcbc872d-045b-4244-87d2-7abf3142df89" class="page sans">
    <header>
      <h1 class="page-title">Installation of pip packages on offline computer</h1>
    </header>
    <div class="page-body">
      <p id="363dd78b-4555-4d07-8b97-bcfae55e2b20" class=""><time>@2020/03/03</time></p>
      <p id="acb128de-ce86-4777-a015-af0e0b6927b2" class="">I had to install some software on old <em>firewalled machine</em>, running Centos 6 and python3.3. Machine was in a network, that allowed only ssh connection and nothing else.</p>
      <p id="4025450e-747e-463d-984f-986cecdb3b61" class=""><em>Firewalled computer</em> didn't even have <code>pip</code>, so I had to install it.</p>
      <h1 id="f3385ab9-e826-4c65-a78b-26c2878c2210" class="">Setuptools and PIP</h1>
      <p id="5921de38-8e77-4f20-bd88-086651470191" class="">First, I installed <code>setuptools</code>. I had to manually download last working version of the <code>setuptools</code> supporting python3.3, which is <a href="https://files.pythonhosted.org/packages/1a/04/d6f1159feaccdfc508517dba1929eb93a2854de729fa68da9d5c6b48fa00/setuptools-39.2.0.zip">39.2.0</a>. I've uploaded unpacked directory to the <em>firewalled computer</em> and run following commands:</p>
      <pre id="de65a27b-fb25-43fc-8e73-69538e91f7a3" class="code"><code>[root@computer offline_pip_repo]# cd setuptools-39.2.0/
[root@computer setuptools-39.2.0]# ls
bootstrap.py  docs             CHANGES.rst  LICENSE      msvc-build-launcher.cmd  PKG-INFO       pytest.ini  setup.cfg  setuptools           tests                   tox.ini
conftest.py   easy_install.py  launcher.c   MANIFEST.in  pavement.py              pkg_resources  README.rst  setup.py   setuptools.egg-info  towncrier_template.rst</code></pre>
      <pre id="abcf98a4-563c-4ed2-becd-de2da11a467c" class="code"><code>[root@computer setuptools-39.2.0]# python3 setup.py install
running install
running bdist_egg
...
... several hundred lines of text
...
Adding setuptools 39.2.0 to easy-install.pth file
Installing easy_install-3.3 script to /usr/bin
Installing easy_install script to /usr/bin

Installed /usr/lib/python3.3/site-packages/setuptools-39.2.0-py3.3.egg
Processing dependencies for setuptools==39.2.0
Finished processing dependencies for setuptools==39.2.0</code></pre><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-8322439660353685" data-ad-slot="8927869381"></ins>
      <p id="94b7d03a-5075-49c5-8fbb-5ccd9d3cb389" class="">Then I had to download <code>pip</code> that supports python3.3. <a href="https://pip.pypa.io/en/stable/news/">Changelog</a> told me that it was version <a href="https://files.pythonhosted.org/packages/ae/e8/2340d46ecadb1692a1e455f13f75e596d4eab3d11a57446f08259dee8f02/pip-10.0.1.tar.gz">10.0.1</a>. Again, I uploaded the unpacked archive to the <em>firewalled computer</em> and run manually <code>python3 setup.py install</code>:</p>
      <pre id="5fcb7984-529d-4ca6-bba7-90b0a7d87c02" class="code"><code>[root@computer offline_pip_repo]# ls
setuptools-39.2.0  pip-10.0.1
[root@computer offline_pip_repo]# cd pip-10.0.1/
[root@computer pip-10.0.1]# ls
AUTHORS.txt  docs  LICENSE.txt  MANIFEST.in  NEWS.rst  PKG-INFO  pyproject.toml  README.rst  setup.cfg  setup.py  src</code></pre>
      <pre id="0d627099-048a-4ac3-a0bf-2c67f6785955" class="code"><code>[root@computer pip-10.0.1]# python3 setup.py install
running install
running bdist_egg
running egg_info
...
... several thousand lines of text
...
Installing pip script to /usr/bin
Installing pip3.3 script to /usr/bin
Installing pip3 script to /usr/bin

Installed /usr/lib/python3.3/site-packages/pip-10.0.1-py3.3.egg
Processing dependencies for pip==10.0.1
Finished processing dependencies for pip==10.0.1</code></pre>
      <p id="49ec5e49-4cb9-4c65-8078-b947a134e3a0" class="">Then I've verified that <code>pip</code> was really installed correctly and it works:</p>
      <pre id="5f4db7e6-e7e9-4d87-b4a7-ce48d59b55e3" class="code"><code>[root@computer pip-10.0.1]# pip

Usage:   
  pip &lt;command&gt; [options]

Commands:
  install                     Install packages.
  download                    Download packages.
  uninstall                   Uninstall packages.
  freeze                      Output installed packages in requirements format.
  list                        List installed packages.
  show                        Show information about installed packages.
  check                       Verify installed packages have compatible dependencies.
  config                      Manage local and global configuration.
  search                      Search PyPI for packages.
  wheel                       Build wheels from your requirements.
  hash                        Compute hashes of package archives.
  completion                  A helper command used for command completion.
  help                        Show help for commands.

General Options:
  -h, --help                  Show help.
  --isolated                  Run pip in an isolated mode, ignoring environment variables and user configuration.
  -v, --verbose               Give more output. Option is additive, and can be used up to 3 times.
  -V, --version               Show version and exit.
  -q, --quiet                 Give less output. Option is additive, and can be used up to 3 times (corresponding to WARNING, ERROR, and CRITICAL logging levels).
  --log &lt;path&gt;                Path to a verbose appending log.
  --proxy &lt;proxy&gt;             Specify a proxy in the form [user:passwd@]proxy.server:port.
  --retries &lt;retries&gt;         Maximum number of retries each connection should attempt (default 5 times).
  --timeout &lt;sec&gt;             Set the socket timeout (default 15 seconds).
  --exists-action &lt;action&gt;    Default action when a path already exists: (s)witch, (i)gnore, (w)ipe, (b)ackup, (a)bort).
  --trusted-host &lt;hostname&gt;   Mark this host as trusted, even though it does not have valid or any HTTPS.
  --cert &lt;path&gt;               Path to alternate CA bundle.
  --client-cert &lt;path&gt;        Path to SSL client certificate, a single file containing the private key and the certificate in PEM format.
  --cache-dir &lt;dir&gt;           Store the cache data in &lt;dir&gt;.
  --no-cache-dir              Disable the cache.
  --disable-pip-version-check
                              Don't periodically check PyPI to determine whether a new version of pip is available for download. Implied with --no-index.
  --no-color                  Suppress colored output</code></pre>
      <h1 id="31069282-38c2-4cac-88d6-4b33e699c322" class="">Offline repository</h1>
      <p id="c19172b6-68cc-4aee-8227-ce7251a973b0" class="">I could install all dependencies by manually downloading packages and running <code>setup.py</code>, but I didn't want to spend so much time with it, so I've created offline repository with <a href="https://pypi.org/project/pip2pi/">pip2pi</a>.</p>
      <p id="16892e66-50c5-45e9-a6c2-911c7ad6a31b" class=""><code>pip2pi</code> can be installed using <code>pip</code> on my computer:</p>
      <pre id="beb6945d-1b15-43ad-9e34-12cd2ca23aeb" class="code"><code>$ pip install --user pip2pi</code></pre>
      <p id="49d90535-1b2e-43f2-8d99-7ce7493f6ee3" class="">I've then told it to download package <code>pytest</code> and <code>py</code> in specific versions (last working versions with python3.3) into directory called <code>repository</code>:</p>
      <pre id="b8e54c43-0f64-4dee-bf01-ebbd8ea227be" class="code"><code>$ pip2tgz repository pytest==3.2.0 py==1.4.33
WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.
Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.
To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.
Collecting pytest==3.2.0
  Using cached pytest-3.2.0-py2.py3-none-any.whl (186 kB)
  Saved ./repository/pytest-3.2.0-py2.py3-none-any.whl
Collecting py==1.4.33
  Using cached py-1.4.33-py2.py3-none-any.whl (83 kB)
  Saved ./repository/py-1.4.33-py2.py3-none-any.whl
Collecting setuptools
  Using cached setuptools-45.2.0-py3-none-any.whl (584 kB)
  Saved ./repository/setuptools-45.2.0-py3-none-any.whl
Successfully downloaded pytest py setuptools

Done. 3 new archives currently saved in 'repository'.</code></pre>
      <p id="94190e7b-21f8-4885-90ca-1076ecb9c44c" class="">I verified that requirements were downloaded:</p>
      <pre id="3075edab-ce47-4f3a-a895-2609869e05c4" class="code"><code>$ tree repository/
repository/
â”œâ”€â”€ pytest-3.2.0-py2.py3-none-any.whl
â”œâ”€â”€ py-1.4.33-py2.py3-none-any.whl
â””â”€â”€ setuptools-45.2.0-py3-none-any.whl

0 directories, 3 files</code></pre>
      <p id="ef5a6d8b-745b-43f3-ab31-de161295a89b" class="">Then, it was necessary to create symlinks, so that whole repository could be used with <code>pip</code>:</p>
      <pre id="911c5aff-7e9b-48af-8aff-46b447f46473" class="code"><code>$ dir2pi repository/</code></pre>
      <p id="0c1bc363-9474-488c-99e0-14c3ad64081e" class="">Here is what the structure looked after this command:</p>
      <pre id="c2cae898-6321-4028-ab20-da4f375bea05" class="code"><code>$ tree repository/
repository/
â”œâ”€â”€ simple
â”‚   â”œâ”€â”€ py
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â””â”€â”€ py-1.4.33-py2.py3-none-any.whl -&gt; ../../py-1.4.33-py2.py3-none-any.whl
â”‚   â”œâ”€â”€ pytest
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â””â”€â”€ pytest-3.2.0-py2.py3-none-any.whl -&gt; ../../pytest-3.2.0-py2.py3-none-any.whl
â”‚   â”œâ”€â”€ setuptools
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â””â”€â”€ setuptools-45.2.0-py3-none-any.whl -&gt; ../../setuptools-45.2.0-py3-none-any.whl
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ pytest-3.2.0-py2.py3-none-any.whl
â”œâ”€â”€ py-1.4.33-py2.py3-none-any.whl
â””â”€â”€ setuptools-45.2.0-py3-none-any.whl

4 directories, 10 files</code></pre>
      <p id="7931f1e5-26bc-43c3-9f0b-50557ca30a83" class="">Then I've copied <code>repository</code> directory via ssh to <em>firewalled machine</em> and run install from local <code>repository</code> directory:</p>
      <pre id="d76163f4-7618-46bf-bf09-b32191d0b3dd" class="code"><code>[root@computer offline_pip_repo]# pip install --no-index --find-links=file:repository pytest
DEPRECATION: Python 3.3 supported has been deprecated and support for it will be dropped in the future. Please upgrade your Python.
Looking in links: file:repository
Collecting pytest
Collecting py&gt;=1.4.33 (from pytest)
Requirement already satisfied: setuptools in /usr/lib/python3.3/site-packages (from pytest) (0.6rc11)
Installing collected packages: py, pytest
Successfully installed py-1.4.33 pytest-3.2.0</code></pre>
      <p id="2a25da4c-787d-4dcb-ab70-3b8333f4f0f7" class="">And thats it.</p>
    </div>
  </article>
  <hr>
  <div>
    <h3>Tags</h3>
    <p><a href="../../Tags/package_management.html" title="package_management">package_management</a>, <a href="../../Tags/pip.html" title="pip">pip</a>, <a href="../../Tags/pip2pi.html" title="pip2pi">pip2pi</a>, <a href="../../Tags/python.html" title="python">python</a></p>
  </div>
  <div class="corner-ribbon top-right red">
    <a href="https://www.patreon.com/bePatron?u=2618881">Become a Patron</a>
  </div><a class="twitter-share-button" id="twitter_button" href="#"><img src="../../tweet_button.svg"></a>
  <div id="sidebar_bottom">
    <div id="last_five_bottom">
      <h3>New posts:</h3>
      <ul>
        <li>
          <a href="../Weekly_updates/Lifelog_2020-06-15_Todo_in_motion.html" title="Lifelog 2020-06-15; Todo in motion">Lifelog 2020-06-15; Todo in motion</a>
        </li>
        <li>
          <a href="../My_Greenspuns_counter.html" title="My Greenspun's counter">My Greenspun's counter</a>
        </li>
        <li>
          <a href="../About_this_blog/What_do_I_mean_by_node.html" title="What do I mean by node?">What do I mean by node?</a>
        </li>
        <li>
          <a href="../Explorations/Trying_Ansible_alternatives_in_python.html" title="Trying Ansible alternatives in python">Trying Ansible alternatives in python</a>
        </li>
        <li>
          <a href="../Improvements/The_Most_Personal_Device_experiment/Pebble_smartwatches.html" title="Pebble smartwatches">Pebble smartwatches</a>
        </li>
        <li>
          <a href="../Improvements/The_Most_Personal_Device_experiment.html" title="The Most Personal Device experiment"><span class="icon">ðŸ“‚</span>The Most Personal Device experiment</a>
        </li>
        <li>
          <a href="../About_this_blog/Unicode_font_subset.html" title="Unicode font subset">Unicode font subset</a>
        </li>
        <li>
          <a href="../Weekly_updates/Lifelog_2020-05-25_Work_in_progress_everywhere.html" title="Lifelog 2020-05-25; Work in progress everywhere">Lifelog 2020-05-25; Work in progress everywhere</a>
        </li>
        <li>
          <a href="http://blog.rfox.eu/en/Improvements/Vitamins_nootropics_and_other_boosters.html">Vitamins, nootropics and other boosters</a>
        </li>
        <li>
          <a href="http://blog.rfox.eu/en/objWiki/Transaction_support_for_simple_in_memory_database.html">Transaction support for simple in-memory database</a>
        </li>
      </ul>& <a href="../../Changelog.html" title="Changelog">more</a>
    </div>
    <div id="links_from_other_pages">
      <h3>Links to this page:</h3>
      <ul>
        <li>
          <a href="../Weekly_updates/Biweekly_update_2020-03-23_Sick_again.html" title="Biweekly update 2020-03-23; Sick again..">Biweekly update 2020-03-23; Sick again..</a>
        </li>
      </ul>
    </div>
  </div><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8322439660353685" data-ad-slot="4657737295" data-ad-format="auto" data-full-width-responsive="true"></ins> 
  <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
  </script> 
  <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false">
  </script> 
  <script>
  window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#edeff5",
      "text": "#838391"
    },
    "button": {
      "background": "#4b81e8"
    }
  }
  });
  </script>
</body>
</html>
